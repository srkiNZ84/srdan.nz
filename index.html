<html>
  <head>
    <title>Srdan Geek NZ</title>
    <script>
      function displayPosts(){
        console.log("TODO: Get Posts from API");
        console.log("TODO: Update HTML to display posts");
      }

      function addPost(){
        console.log("Updating results paragraph");
        var userText = document.getElementById("myTextBox").value;
        var myData = { "document": userText };
        var request = new XMLHttpRequest();
        var postURL = "https://us-central1-faas-helloworld.cloudfunctions.net/addpost";
        request.open('POST', postURL, true);
        request.setRequestHeader('Content-type', 'application/json;charset=UTF-8');
        request.onreadystatechange = function() {
          if(request.readyState == 4 && request.status == 200) {
            document.getElementById("myResultsBox").innerHTML = "Response was: " + request.responseText;
          }
        }
        request.send(JSON.stringify(myData));
      }
    </script>
  </head>
  <body>
    <p>Content:</p>
    <br />
    <p id="postsDisplay"></p>
    <br />
    <p>Add new:</p>
    <textarea id="myTextBox" rows="5" columns="30" >
    </textarea>
    <br />
    <button onclick="addPost()" type="button">Add Post</button>
    <br />
    <p id="myResultsBox"></p>
  </body>
</html>

